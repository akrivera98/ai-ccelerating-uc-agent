# -- Experiment metadata --
experiment:
  name: "ablation_study_1"
  notes: "just trying stuff out"

seed: 42

device:
  kind: "cpu"
  dtype: "float32"

# -- Solver / ED layer settings --
ed:
  model: "EDModelLP"
  solver_args:


# -- Data -- 
dataset:
  data_dir: "data/starting_kit_ai-uc_v2/Train_Data"
  ed_instance_path: "data/starting_kit_ai-uc_v2/Train_Data/instance_2021_Q1_1/InputData.json"

splits:
  train: 0.70
  val: 0.15
  test: 0.15

dataloader: 
  batch_size: 1
  shuffle_train: true

# -- NN model --
model:
  name: "TwoHeadMLP"
  hyper_params:
    input_size: 318
    hidden_size: 128
    num_hidden_layers: 3
    final_activation: "sigmoid"

# -- Ablation switches --
ablation:
  rounding: 
    train: "STE"
    eval: "threshold" 
    threshold: 0.5

  use_ed_in_training: true

  loss_weights: 
    supervised: 1.0
    violation: 1.0
    ed_objective: 1.0
    startup: 0.0

# -- Training --
training: 
  num_epochs: 5
  optimizer: "Adam"
  learning_rate: 1.0e-3
  val_every: 2 # 0 = off
  early_stopping:
    enabled: true
    monitor: "val_loss"
    patience: 5
    min_rel_improve: 0.005
    eps: 1.0e-8

# -- Checkpointing and outputs --
output: 
  base_dir: "results"
  save_every: 0 # 0 = only save final.
